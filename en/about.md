---
layout: base
title: "About"
permalink: /en/about/
---

<header class="about-hero">
  <div class="about-hero__inner">
    <figure class="about-hero__media">
      <img src="/assets/img/about/about.webp" alt="Shoji Lab banner">
      <figcaption class="about-hero__overlay">
        <h1>Welcome to the Shoji Laboratory of Information Access Technology</h1>
      </figcaption>
    </figure>
  </div>
</header>

<div class="about-shell">
  <aside class="about-toc">
    <h4>Contents</h4>
    <nav id="about-toc"></nav>
  </aside>

  <main class="about-sections">

    <!-- 1) Research Theme -->
    <section id="theme" class="about-section" data-title="Research Theme">
      <h2>Research Theme</h2>
      The Shoji Laboratory conducts research on <strong>information access technologies that take human and societal factors into account</strong> from a wide range of perspectives.

      <div class="note-column">

        <div class="note-card" data-title="What is Information Access Technology?" tabindex="0">
          <div class="note-head">What is Information Access Technology?</div>
          <div class="note-body">
            <p><strong>It refers to technologies that connect people with information, such as information retrieval and recommendation.</strong></p>
            <p>
              The goal of information access research is to enable people to obtain the information they truly need when they need it.
              To achieve this goal, researchers employ and integrate a broad range of information technologies.
            </p>
            <p>
              Representative research topics include:
            <ul>
              <li><strong>Information Retrieval:</strong> Technologies that rank and present information in response to user information needs (e.g., keyword-based web search such as Google).</li>
              <li><strong>Information Recommendation:</strong> Technologies that present relevant information without explicit user input, such as Amazon recommendations or YouTube autoplay.</li>
              <li><strong>Information Design and Navigation:</strong> Techniques such as AI-based summarization that help users understand and internalize information.</li>
            </ul>
            </p>
          </div>
        </div>

        <div class="note-card" data-title="What Kind of Research Does Shoji Lab Conduct?" tabindex="0">
          <div class="note-head">What Kind of Research Does Shoji Lab Conduct?</div>
          <div class="note-body">
            <p><strong>We study information access applications that become more useful by considering human and societal factors.</strong></p>
            <p>
              Although information access research is often discussed as a single field, its actual scope varies widely across universities and laboratories.
              In information retrieval alone, there are numerous subfields, such as improving retrieval accuracy, speeding up processing, or enabling image and video search.
            </p>
            <p>
              Within this broad landscape, the Shoji Laboratory develops and publishes various information access technologies by integrating user-generated content, social scienceâ€“inspired algorithms, and AI techniques.
            </p>
          </div>
        </div>

        <div class="note-card" data-title="Examples of Recent Research Topics" tabindex="0">
          <div class="note-head">Examples of Recent Research Topics</div>
          <div class="note-body">
            <p><strong>We cover a wide range of topics as long as they are related to information access.</strong></p>
            <p>Recent examples include:</p>
            <ul>
              <li>Technologies that help users understand items without reading large numbers of reviews,</li>
              <li>Methods for preventing users from forgetting accessed information,</li>
              <li>Search algorithms that allow flexible expression of user information needs,</li>
              <li>Information access technologies for the physical world beyond computers.</li>
            </ul>
            <p>
              For details, please see the <a href="https://shoji-lab.github.io/research/">Research</a> page.
            </p>
          </div>
        </div>

        <div class="note-card" data-title="Technologies and Approaches" tabindex="0">
          <div class="note-head">Technologies and Approaches</div>
          <div class="note-body">
            <p><strong>We take an interdisciplinary approach that integrates data handling, AI, data mining, and web technologies.</strong></p>
            <p>
              Key approaches include:
            <ul>
              <li>Analyzing user-generated content from social media and review sites for information access,</li>
              <li>Incorporating theories related to diversity and psychological effects into access algorithms,</li>
              <li>Processing large-scale data beyond human capacity using machine learning and AI.</li>
            </ul>
            </p>
          </div>
        </div>

      </div>
    </section>

    <!-- 2) For Prospective Students -->
    <section id="assignment" class="about-section" data-title="For Prospective Students">
      <h2>For Prospective Students</h2>
      We are interested in working with students who meet the following criteria.

      <div class="note-column">

        <div class="note-card" data-title="For Students of Shizuoka University" tabindex="0">
          <div class="note-head">For Students of Shizuoka University</div>
          <div class="note-body">
            <p>
              <strong>We welcome anyone with strong motivation and interest.</strong>
              The lab is particularly suitable for students interested in the web, social media, machine learning, and big data processing.
            </p>
            <p>
              However, this lab has a strong engineering-oriented focus.
              Students who are uncomfortable with computers or programming may find it challenging to complete their degree.
              While study sessions are provided, those who strongly dislike programming are advised to consider other options.
            </p>
            <p>
              In this field, it is common to pursue employment after completing a masterâ€™s degree.
              Accordingly, our education and research schedule is designed with graduate study in mind.
              Students who plan to graduate after the bachelorâ€™s program only are advised not to apply.
            </p>
            <p>Please be sure to visit the lab and consult with us before applying.</p>
          </div>
        </div>

        <div class="note-card" data-title="For Transfer Students" tabindex="0">
          <div class="note-head">For Transfer Students</div>
          <div class="note-body">
            <p>
              <strong>We welcome motivated students interested in information access research.</strong>
              While prior background is not strictly required, this field demands reading many English research papers, designing methods, and implementing prototypes.
              Without sufficient computer skills, programming ability, and English proficiency, completing the program may be difficult.
            </p>
            <p>
              For masterâ€™s-level transfers, prior approval from the prospective supervisor is typically required.
              Please contact us in advance if you plan to apply.
            </p>
          </div>
        </div>

        <div class="note-card" data-title="For Overseas Students" tabindex="0">
          <div class="note-head">For Overseas Students</div>
          <div class="note-body">
            <span class="caution">Admissions Temporarily Suspended.</span>
            <p>
              We welcome students who are enthusiastic about information access technology.
              Advanced computer skills and English proficiency are essential.
            </p>
            <p>
              <span class="caution">Important Notes:</span><br>
              As the lab is still in its early stages, we are currently limiting the number of international students we can accept.
              At this time, we are not accepting new overseas students.
              However, students with substantial independent research experience (e.g., international conference publications) may contact us for individual consultation.
            </p>
          </div>
        </div>

        <div class="note-card" data-title="Important Notes on Lab Assignment" tabindex="0">
          <div class="note-head">Important Notes on Lab Assignment</div>
          <div class="note-body">
            <p><strong>To avoid difficulties in completing your degree:</strong></p>
            <p>
              Internal graduation requirements include:
            <ul>
              <li><strong>Bachelorâ€™s:</strong> At least one external presentation (including non-refereed domestic conferences)</li>
              <li><strong>Masterâ€™s:</strong> At least one international conference or journal publication</li>
            </ul>
            </p>
            <p>
              The lab holds three group meetings per week (two research seminars and one student-led study group),
              along with individual and group meetings as needed.
              As a result, members are generally expected to be present in the lab almost every day.
            </p>
          </div>
        </div>

      </div>
    </section>

    <!-- 3) Lab Features -->
    <section id="features" class="about-section" data-title="Lab Features">
      <h2>Lab Features</h2>
      As a typical engineering-oriented lab, members work in the lab daily and submit papers to academic conferences.

      <div class="note-column">

        <div class="note-card" data-title="Lab Environment" tabindex="0">
          <div class="note-head">Lab Environment</div>
          <div class="note-body">
            <ul>
              <li>One workstation per student</li>
              <li>Free-address desks and monitors</li>
              <li>Microwave, refrigerator, coffee maker, and cooking tools</li>
            </ul>
          </div>
        </div>

        <div class="note-card" data-title="Weekly Schedule" tabindex="0">
          <div class="note-head">Weekly Schedule</div>
          <div class="note-body">
            <p>
              We hold three group meetings per week, with additional individual research meetings scheduled as needed.
              Example weekly schedules for senior undergraduates and first-year masterâ€™s students are available.
            </p>
          </div>
        </div>

        <div class="note-card" data-title="Lab Events" tabindex="0">
          <div class="note-head">Lab Events</div>
          <div class="note-body">
            <p>We regularly organize shared meals and social events.</p>
            <p>These include BBQs on campus, cooking together in the lab, and seasonal gatherings.</p>
            <p>Past events can be found on the <a href="https://shoji-lab.github.io/news/">News</a> page.</p>
          </div>
        </div>

        <div class="note-card" data-title="Academic Activities" tabindex="0">
          <div class="note-head">Academic Activities</div>
          <div class="note-body">
            <p>We actively participate in international and domestic conferences.</p>
            <p>Examples from 2025:</p>
            <ul>
              <li>DEIM 2025 (Domestic): 5 papers</li>
              <li>MMM 2025 (International): 1 paper</li>
              <li>Kansaiâ€“Tokai DBWS (Workshops): 9 presentations</li>
              <li>iiWAS 2025 (International): 4 papers</li>
              <li>IR-Reading Group: 4 undergraduate participants</li>
            </ul>
          </div>
        </div>

      </div>
    </section>

    <!-- 4) About Shoji -->
    <section id="shoji" class="about-section" data-title="About Shoji">
      <h2>About Shoji</h2>

      <div class="note-column">

        <div class="note-card" data-title="Profile" tabindex="0">
          <div class="note-head">Profile</div>
          <div class="note-body">
            <p>
              Easygoing. Not punctual. Often oversleeps.
              Travels everywhere by bicycle.
              Sometimes forgets what was said before.
            </p>
            <p>
              For a formal CV, please see the <a href="https://shoji-lab.jp/">external website</a>.
            </p>
          </div>
        </div>

        <div class="note-card" data-title="Contact" tabindex="0">
          <div class="note-head">Contact</div>
          <div class="note-body">
            <p>Email: labğŸˆshoji-lab.jp</p>
            <p>(Replace ğŸˆ with @)</p>
          </div>
        </div>

        <div class="note-card" data-title="Collaborations" tabindex="0">
          <div class="note-head">Collaborations</div>
          <div class="note-body">
            <p>
              We have conducted collaborative research with companies, laboratories, and organizations such as museums.
            </p>
            <p>Various forms of collaboration are possible.</p>
            <p>Please feel free to contact us.</p>
          </div>
        </div>

      </div>
    </section>

  </main>
</div>

<!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆã‚«ãƒ¼ãƒ‰æ‹¡å¤§è¡¨ç¤ºï¼‰ -->
<div class="note-modal" aria-hidden="true">
  <div class="note-modal__backdrop"></div>
  <div class="note-modal__content" role="dialog" aria-modal="true" aria-label="è©³ç´°">
    <button class="note-modal__close" aria-label="é–‰ã˜ã‚‹">Ã—</button>
    <h3 class="note-modal__title"></h3>
    <div class="note-modal__body"></div>
  </div>
</div>

<!-- ======================  CSS  ====================== -->
<style>

    span.caution{
        font-weight: bolder;
        color: crimson;
    }
        span.li{
        font-weight: bolder;
        color: black;
    }


/* ============ About page FINAL CSS ============ */

/* Base */
html { scroll-behavior: smooth; }
:root{
  --fg:#222; --muted:#666;
}

/* Layout shell: center the whole page and control gaps */
.about-shell{
  max-width: 1200px;          /* overall page width */
  margin: 0 auto;
  gap: 24px;
  display: grid;
  grid-template-columns: 1fr; /* mobile: single column */
}

/* Sections (main column) */
.about-sections{
  color: var(--fg);
  line-height: 1.9;
  font-feature-settings: "palt";
}
.about-section{ margin: 2.2rem 0; }
.about-section h2{
  font-size: 1.6rem;
  line-height: 1.3;
  margin: 0 0 1rem;
  border-left: .5rem solid #222;
  padding-left: .75rem;
}

/* TOC (compact) ? appears on wide screens */
.about-toc{ display: none; }

@media (min-width: 1100px){
  /* 2 columns: left TOC (200px) + right content (rest) */
  .about-shell{
    grid-template-columns: 200px 1fr;
  }

  .about-toc{
    display: block;
    position: sticky;
    top: 1.5rem;
    height: fit-content;
    max-width: 200px;
    padding: .5rem .6rem;
    border: 1px solid #eee;
    border-radius: 10px;
    background: #fafafa;
    font-size: .9rem;
  }
  .about-toc h4{
    margin: 0 0 .4rem;
    font-size: .85rem;
    color: #444;
    letter-spacing: .02em;
  }
  .about-toc nav{ max-height: 72vh; overflow: auto; }
  .about-toc a{
    display: block;
    color: #333;
    text-decoration: none;
    padding: .18rem 0;
    line-height: 1.35;
    font-size: .9rem;
  }
  .about-toc a:hover{ text-decoration: underline; color: #000; }
  .about-toc a.active{ font-weight: 700; color: #000; text-decoration: underline; }

  /* Make main column use full available width (no auto-centering) */
  .about-sections{
    max-width: none !important;
    margin: 0 !important;
    justify-self: start;
  }
}

/* Even wider screens: a bit more breathing room (optional) */
@media (min-width: 1400px){
  .about-shell{ max-width: 1320px; }
}

/* Note cards (memo style) */
.note-column{
  display: grid;
  grid-auto-rows: min-content;
  gap: .9rem;
}
.note-card{
  position: relative;
  padding: .78rem .9rem;
  background: #fffef4;                 /* base section hue (overridden per section below) */
  border: 1px solid #e8e1b5;
  border-radius: 10px;
  box-shadow: 0 3px 10px rgba(0,0,0,.06);
  transition: transform .15s ease, box-shadow .15s ease;
  cursor: pointer;
}
.note-card:hover{
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(0,0,0,.09);
}
.note-card:focus{ outline: 3px solid #ffde7a; }

/* remove pin */
.note-card::before{ content: none !important; }

/* optional tiny top strip (very subtle) */
/*
.note-card::after{
  content:""; position:absolute; left:0; right:0; top:0; height:8px;
  background: linear-gradient(90deg, rgba(0,0,0,.05), rgba(0,0,0,.02) 30%, rgba(0,0,0,.05) 100%);
  opacity:.45;
}
*/

.note-head{ font-weight: 700; margin: 0 0 .25rem; }
.note-body{
  display: -webkit-box;
  -webkit-line-clamp: 2;           /* preview 2 lines when collapsed */
  -webkit-box-orient: vertical;
  overflow: hidden;
  color: #333;
}

/* Section color accents */
#assignment .note-card{ background:#f7fff9; border-color:#bfe8c6; }
#features  .note-card{ background:#f6fbff; border-color:#b8d7f5; }
#shoji     .note-card{ background:#fff7fb; border-color:#f2bfe3; }

/* Modal for expanded card */
.note-modal{ position: fixed; inset: 0; display: none; z-index: 1000; }
.note-modal.is-open{ display: block; }
.note-modal__backdrop{
  position: absolute; inset: 0;
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(2px);
}
.note-modal__content{
  position: absolute;
  inset: 10% max(10px, calc(50% - 480px)) 10% max(10px, calc(50% - 480px));
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 12px 40px rgba(0,0,0,.25);
  padding: 1.2rem 1.2rem 1.4rem;
  display: flex; flex-direction: column; gap: .6rem;
}
.note-modal__title{ margin: 0; font-size: 1.3rem; }
.note-modal__body{ overflow: auto; line-height: 1.9; }
.note-modal__close{
  position: absolute; top: .7rem; right: .7rem;
  width: 36px; height: 36px; border-radius: 50%;
  border: 1px solid #eee; background: #fff; cursor: pointer; font-size: 1.1rem;
}

/* Mobile tweaks */
@media (max-width: 768px){
  .about-shell{ grid-template-columns: 1fr; }
  .note-modal__content{ inset: 6% 4% 6% 4%; }
}

/* ===== Hero base ===== */
.about-hero {
  background: #f6f8ff; /* ç”»é¢ç«¯ã«è–„ã„ä½™ç™½è‰² */
  padding: 0;
  margin: 0 0 1.2rem;
}
.about-hero__inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: clamp(8px, 2vw, 16px);
}

/* ç”»åƒã‚’ãƒ•ãƒ«å¹…ã§ã€æ¯”ç‡800:254ã®ã¾ã¾è¡¨ç¤º */
.about-hero__media {
  position: relative;
  margin: 0;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,.12);
  aspect-ratio: 800 / 254;        /* ãƒ¢ãƒ€ãƒ³ç’°å¢ƒ */
  background: #dfe6ff;            /* ç”»åƒèª­ã¿è¾¼ã¿å‰ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ */
}
.about-hero__media > img {
  width: 100%;
  height: 100%;
  object-fit: cover;               /* ã¯ã¿å‡ºã—ã‚‚ãƒˆãƒªãƒŸãƒ³ã‚°ã§ç¾ã—ã */
  display: block;
}

/* ãƒ†ã‚­ã‚¹ãƒˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
.about-hero__overlay {
  position: absolute; inset: 0;
  display: grid; place-items: center;
  padding: clamp(12px, 3vw, 28px);
  /* ä¸Šã¯é€æ˜ãƒ»ä¸‹ã¯ã‚„ã‚„æ¿ƒã„ï¼šæ–‡å­—ã®å¯èª­æ€§ã‚’ä¸Šã’ã‚‹ */
  background: linear-gradient(
    180deg,
    rgba(0,0,0,0.05) 0%,
    rgba(0,0,0,0.35) 100%
  );
}
.about-hero__overlay h1 {
  margin: 0;
  text-align: center;
  color: #fff;
  font-weight: 800;
  line-height: 1.25;
  font-size: clamp(1.2rem, 1rem + 2.2vw, 2.1rem);
  text-shadow: 0 2px 12px rgba(0,0,0,.35);
  /* ã»ã‚“ã®å°‘ã—ã®ä¸‹ç·šã‚¢ã‚¯ã‚»ãƒ³ãƒˆï¼ˆéåº¦ã«ä¸»å¼µã—ãªã„ï¼‰ */
  position: relative;
}
.about-hero__overlay h1::after {
  content: "";
  display: block;
  width: clamp(80px, 22%, 220px);
  height: 3px;
  margin: .6rem auto 0;
  background: linear-gradient(90deg, rgba(255,255,255,.0), rgba(255,255,255,.9), rgba(255,255,255,.0));
  border-radius: 999px;
}

/* ä½™ç™½èª¿æ•´ï¼ˆä¸‹ã«ç¶šãæœ¬æ–‡ã¨é¦´æŸ“ã¾ã›ã‚‹ï¼‰ */
@media (max-width: 640px){
  .about-hero { margin-bottom: .8rem; }
}

/* â–¼ ç¶šããƒ’ãƒ³ãƒˆï¼ˆå³ä¸‹ãƒãƒƒãƒ—ï¼‰ï¼‹ãƒ•ã‚§ãƒ¼ãƒ‰ */
.note-card { position: relative; }
.note-morehint{
  position: absolute; right: .6rem; bottom: .5rem;
  display: inline-flex; align-items: center; gap: .35rem;
  font-size: .85rem; font-weight: 700; letter-spacing: .02em;
  color: #0b5cff; background: #fff;
  border: 1px solid #dfe6ff; border-radius: 999px;
  padding: .18rem .55rem;
  box-shadow: 0 1px 4px rgba(0,0,0,.06);
  pointer-events: none;             /* ã‚¯ãƒªãƒƒã‚¯ã¯ã‚«ãƒ¼ãƒ‰ã«é€šã™ */
  user-select: none;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.note-morehint i{
  display:inline-block; transform: translateX(0);
  transition: transform .12s ease;
}
.note-card:hover .note-morehint{
  transform: translateY(-1px);
  box-shadow: 0 3px 10px rgba(11,92,255,.12);
  background: #f7faff;
}
.note-card:hover .note-morehint i{ transform: translateX(2px); }

/* æœ¬æ–‡æœ«ã«ã‹ã¶ã›ã‚‹ãƒ•ã‚§ãƒ¼ãƒ‰ï¼ˆèƒŒæ™¯è‰²ãŒé•ã£ã¦ã‚‚é¦´æŸ“ã‚€åŠé€æ˜ç™½ï¼‰ */
.note-fade{
  position: absolute; left: 0; right: 0; bottom: 0;
  height: 2.4em; pointer-events: none;
  border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;
  background: linear-gradient(to top, rgba(255,255,255,.95), rgba(255,255,255,0));
}

.about-section h2{
  font-size: clamp(1.6rem, 1.2rem + 1.6vw, 2.2rem);
  line-height: 1.2;
  margin: .2rem 0 1rem;
  border-left: .5rem solid #222;
  padding-left: .8rem;
  letter-spacing: .01em;
}

.note-head{
  font-weight: 800;
  font-size: clamp(1.02rem, .9rem + .5vw, 1.18rem);
  color:#111; letter-spacing:.01em;
  margin: 0 0 .5rem; padding-bottom: .15rem; position:relative;
}


/* æœ¬æ–‡ã®å…ˆé ­è¡Œã¨ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’ä»˜ã‘ã‚‹ */
.note-body{ color:#333; }
/* ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã‚¿ã‚¤ãƒˆãƒ«ã‚‚å°‘ã—å¼·ã‚ã‚‹ */
.note-modal__title{
  font-weight: 800; color:#111;
  font-size: clamp(1.2rem, 1rem + .8vw, 1.6rem);
}

/* æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã®å®‰å…¨ãƒªã‚»ãƒƒãƒˆï¼ˆã“ã®ãƒšãƒ¼ã‚¸å†…ã ã‘ï¼‰ */
.about-sections, .about-sections * {
  /* ä¸Šä½ã® letter-spacing ã‚’æ‰“ã¡æ¶ˆã™ */
  letter-spacing: normal !important;

  /* æ—¥æœ¬èªã§å´©ã‚Œã‚„ã™ã„ palt/halt ã‚’æ˜ç¤ºçš„ã«ç„¡åŠ¹åŒ– */
  font-feature-settings: "palt" 0, "halt" 0, "kern" 1 !important;

  /* ã¶ã‚‰ä¸‹ãŒã‚Šç­‰ã‚’è§£é™¤ï¼ˆæœ‰åŠ¹ã«ã—ã¦ã„ã‚‹ãƒ†ãƒ¼ãƒãŒã‚ã‚‹ã¨å¥èª­ç‚¹ãŒæµ®ãï¼‰ */
  hanging-punctuation: none;
}

/* æ®µè½ãƒ»ãƒªã‚¹ãƒˆã¯æ”¹è¡ŒæŒ¯ã‚‹èˆã„ã‚‚æ—¥æœ¬èªå‘ã‘ã« */
.about-sections :where(p, li) {
  line-break: strict;     /* å¥èª­ç‚¹ãƒ»æ‹¬å¼§ã®ç¦å‰‡ã‚’å¼·ã‚ã‚‹ */
  word-break: normal;     /* ä¸è¦ãªåˆ†å‰²ã‚’æŠ‘ãˆã‚‹ */
  white-space: normal;
}

/* è¦‹å‡ºã—ã«ã‚‚å¿µã®ãŸã‚ï¼ˆä»¥å‰è¿½åŠ ã—ãŸ letter-spacing ã‚’è§£é™¤ï¼‰ */
.about-section h2, .note-head {
  letter-spacing: normal !important;
  font-feature-settings: "palt" 0, "halt" 0, "kern" 1 !important;
}


</style>


<!-- ======================  JS  ====================== -->
<script>
(function(){
  // ===== ç›®æ¬¡ç”Ÿæˆ =====
  const toc = document.getElementById('about-toc');
  const sections = document.querySelectorAll('.about-section');
  if (toc) {
    const f = document.createDocumentFragment();
    sections.forEach(sec => {
      const id = sec.id || (sec.dataset.title||'section').trim().toLowerCase()
        .replace(/\s+/g,'-').replace(/[^\w\-]/g,'');
      if (!sec.id) sec.id = id;
      const a = document.createElement('a');
      a.href = '#'+id;
      a.textContent = sec.dataset.title || sec.querySelector('h2')?.textContent.trim();
      f.appendChild(a);
    });
    toc.appendChild(f);

    // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¿½å¾“ï¼ˆIntersectionObserverï¼‰
    const links = toc.querySelectorAll('a');
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          links.forEach(l=>l.classList.toggle('active', l.getAttribute('href') === '#'+e.target.id));
        }
      });
    }, { rootMargin: '-40% 0px -50% 0px', threshold: 0 });
    sections.forEach(s=>obs.observe(s));
  }

  // ===== ã‚«ãƒ¼ãƒ‰æ‹¡å¤§ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ =====
  const modal = document.querySelector('.note-modal');
  const mTitle = modal.querySelector('.note-modal__title');
  const mBody  = modal.querySelector('.note-modal__body');

  function openCard(card){
    mTitle.textContent = card.dataset.title || card.querySelector('.note-head')?.textContent.trim() || '';
    mBody.innerHTML = card.querySelector('.note-body').innerHTML;
    modal.classList.add('is-open');
    modal.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
  }
  function closeModal(){
    modal.classList.remove('is-open');
    modal.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
  }

  document.addEventListener('click', (e)=>{
    const card = e.target.closest('.note-card');
    if(card){ openCard(card); return; }
    if(e.target.closest('.note-modal__close') || e.target.classList.contains('note-modal__backdrop')) closeModal();
  });
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });

})();

(function(){
  // ã™ã¹ã¦ã® note-card ã«ãƒ’ãƒ³ãƒˆã¨ãƒ•ã‚§ãƒ¼ãƒ‰ã‚’è‡ªå‹•ä»˜ä¸
  document.querySelectorAll('.note-card').forEach(card => {
    // æ—¢ã«è¿½åŠ æ¸ˆã¿ãªã‚‰ã‚¹ã‚­ãƒƒãƒ—
    if (card.querySelector('.note-morehint')) return;

    const fade = document.createElement('span');
    fade.className = 'note-fade';

    const hint = document.createElement('span');
    hint.className = 'note-morehint';
    hint.innerHTML = 'ç¶šãã‚’èª­ã‚€ <i aria-hidden="true">â€º</i>';

    card.appendChild(fade);
    card.appendChild(hint);
  });
})();

</script>
